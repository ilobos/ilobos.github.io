{"title":"vue-cli5打包后element-ui的样式丢失","uid":"438947d17d2a5b6f09dbb2a122dce3f4","slug":"vue/002-vue-cli5-elementui-fonts","date":"2022-12-22T03:20:13.000Z","updated":"2022-12-23T06:58:51.994Z","comments":true,"path":"api/articles/vue/002-vue-cli5-elementui-fonts.json","keywords":null,"cover":"https://images.pexels.com/photos/290470/pexels-photo-290470.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260","content":"<hr>\n<h5 id=\"1、背景\"><a href=\"#1、背景\" class=\"headerlink\" title=\"1、背景\"></a>1、背景</h5><p>使用vue-cli5创建vue2项目，使用了element-ui，在使用electron-builder打包build之后，发现element-ui的样式丢失，找不到fonts目录。</p>\n<p>在网上搜索无果，大多数的解决方法都不是vue-cli5版本的，有build、utils、webpack的一些的配置，那都不是本文所论述的范围，如果你的版本不是vue-cli5，那么可以关掉这个页面了，不用浪费时间。</p>\n<h5 id=\"2、版本\"><a href=\"#2、版本\" class=\"headerlink\" title=\"2、版本\"></a>2、版本</h5><pre class=\"language-shell\" data-language=\"shell\"><code class=\"language-shell\">node -v\n16.16.0</code></pre>\n<pre class=\"language-json\" data-language=\"json\"><code class=\"language-json\">&quot;node_modules&#x2F;vue&quot;: &quot;2.7.14&quot;\n&quot;node_modules&#x2F;@vue&#x2F;cli-service&quot;: &quot;5.0.8&quot;\n&quot;node_modules&#x2F;element-ui&quot;: &quot;2.15.12&quot;\n&quot;node_modules&#x2F;electron-builder&quot;: &quot;22.14.13&quot;\n&quot;node_modules&#x2F;electron&quot;: &quot;22.0.0&quot;</code></pre>\n\n<h5 id=\"3、Scripts\"><a href=\"#3、Scripts\" class=\"headerlink\" title=\"3、Scripts\"></a>3、Scripts</h5><pre class=\"language-json\" data-language=\"json\"><code class=\"language-json\">&quot;scripts&quot;: &#123;\n  &quot;serve&quot;: &quot;vue-cli-service electron:serve&quot;,\n  &quot;build&quot;: &quot;vue-cli-service electron:build&quot;,\n  &quot;postinstall&quot;: &quot;electron-builder install-app-deps&quot;,\n  &quot;postuninstall&quot;: &quot;electron-builder install-app-deps&quot;\n&#125;</code></pre>\n\n<h5 id=\"4、现象\"><a href=\"#4、现象\" class=\"headerlink\" title=\"4、现象\"></a>4、现象</h5><p>启动使用：npm run serve 一切正常</p>\n<pre class=\"language-js\" data-language=\"js\"><code class=\"language-js\">npm run serve</code></pre>\n<p>打包使用：npm run build 字体、样式丢失</p>\n<pre class=\"language-js\" data-language=\"js\"><code class=\"language-js\">npm run build</code></pre>\n\n<h4 id=\"5、解决方案\"><a href=\"#5、解决方案\" class=\"headerlink\" title=\"5、解决方案\"></a>5、解决方案</h4><p>找到 vue.config.js (vue-cli5只有这个，没有别的)<br>在pluginOptions.electronBuilder 中 添加 customFileProtocol: “.&#x2F;“</p>\n<pre class=\"language-js\" data-language=\"js\"><code class=\"language-js\">pluginOptions: &#123;\n    electronBuilder: &#123;\n        customFileProtocol: &quot;.&#x2F;&quot;\n    &#125;\n&#125;</code></pre>\n\n<p>“.&#x2F;“与 assetsDir 相同，参考下面的配置：</p>\n<pre class=\"language-js\" data-language=\"js\"><code class=\"language-js\">const &#123; defineConfig &#125; &#x3D; require(&#39;@vue&#x2F;cli-service&#39;)\n\nmodule.exports &#x3D; defineConfig(&#123;\n    transpileDependencies: true,\n    publicPath: &#39;.&#x2F;&#39;,\n    assetsDir: &quot;.&#x2F;&quot;,\n    pluginOptions: &#123;\n        electronBuilder: &#123;\n            customFileProtocol: &quot;.&#x2F;&quot;\n        &#125;\n    &#125;\n&#125;)\n</code></pre>\n<h5 id=\"6、ALL-DONE\"><a href=\"#6、ALL-DONE\" class=\"headerlink\" title=\"6、ALL DONE\"></a>6、ALL DONE</h5><hr>\n","text":" 1、背景使用vue-cli5创建vue2项目，使用了element-ui，在使用electron-builder打包build之后，发现element-ui的样式丢失，找不到fonts目录。 在网上搜索无果，大多数的解决方法都不是vue-cli5版本的，有build、utils...","link":"","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"Vue","slug":"Vue","count":3,"path":"api/categories/Vue.json"}],"tags":[{"name":"vue-cli5","slug":"vue-cli5","count":1,"path":"api/tags/vue-cli5.json"},{"name":"element-ui","slug":"element-ui","count":1,"path":"api/tags/element-ui.json"},{"name":"electron-builder","slug":"electron-builder","count":1,"path":"api/tags/electron-builder.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#1%E3%80%81%E8%83%8C%E6%99%AF\"><span class=\"toc-text\">1、背景</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#2%E3%80%81%E7%89%88%E6%9C%AC\"><span class=\"toc-text\">2、版本</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#3%E3%80%81Scripts\"><span class=\"toc-text\">3、Scripts</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#4%E3%80%81%E7%8E%B0%E8%B1%A1\"><span class=\"toc-text\">4、现象</span></a></li></ol></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#5%E3%80%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88\"><span class=\"toc-text\">5、解决方案</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#6%E3%80%81ALL-DONE\"><span class=\"toc-text\">6、ALL DONE</span></a></li></ol>","author":{"name":"ilobos","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"直面挑战 躬身入局","socials":{"github":"https://github.com/ilobos/","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/svg/gitee.svg","link":"https://gitee.com/ilobos/"}}}},"mapped":true,"prev_post":{"title":"electron项目在mac上无法复制","uid":"1177a04a594e4ccefe1ee084cbb23114","slug":"electron/007-eleltron-mac-cannot-cp","date":"2022-12-23T05:20:13.000Z","updated":"2022-12-23T05:59:10.496Z","comments":true,"path":"api/articles/electron/007-eleltron-mac-cannot-cp.json","keywords":null,"cover":"https://images.pexels.com/photos/290470/pexels-photo-290470.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260","text":" 1、背景在mac开发中，electron在主进程中注释掉自带menu后，自己新写的menu，启动后发现无法粘贴、复制； 2、分析因为快捷键被禁用，所以无法使用Cmd + C、Cmd + X、Cmd + P等；此时我们可以按需添加快捷键，恢复想要的功能。 if (process....","link":"","photos":[],"count_time":{"symbolsCount":687,"symbolsTime":"1 mins."},"categories":[{"name":"Electron","slug":"Electron","count":8,"path":"api/categories/Electron.json"}],"tags":[{"name":"electron","slug":"electron","count":2,"path":"api/tags/electron.json"},{"name":"mac","slug":"mac","count":1,"path":"api/tags/mac.json"}],"author":{"name":"ilobos","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"直面挑战 躬身入局","socials":{"github":"https://github.com/ilobos/","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/svg/gitee.svg","link":"https://gitee.com/ilobos/"}}}}},"next_post":{"title":"GitTree保持一条线","uid":"77cf03d322bc183735b2daa0ceb4d64b","slug":"share/003-git-rebase","date":"2022-06-05T09:20:13.000Z","updated":"2022-06-05T12:12:22.593Z","comments":true,"path":"api/articles/share/003-git-rebase.json","keywords":null,"cover":"https://images.pexels.com/photos/290470/pexels-photo-290470.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260","text":" 说明有些场景，或者强迫症患者，希望Tree是一条直线，特别是在多仓库、多分支的情况下，一条线看着确实相对舒服。 需求我们在dev分支开发好代码之后，期望合并到test分支，以下步骤可以让我们保持一条线，并且保障commit不会多次出现。 1、Rebase在dev分支执行reba...","link":"","photos":[],"count_time":{"symbolsCount":254,"symbolsTime":"1 mins."},"categories":[{"name":"GIT","slug":"GIT","count":2,"path":"api/categories/GIT.json"}],"tags":[{"name":"Rebase","slug":"Rebase","count":2,"path":"api/tags/Rebase.json"}],"author":{"name":"ilobos","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"直面挑战 躬身入局","socials":{"github":"https://github.com/ilobos/","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"gitee":{"icon":"/svg/gitee.svg","link":"https://gitee.com/ilobos/"}}}}}}